#**
 * helpers_macros.vm
 *
 * This file consists of a collection of customize Velocity macros aimed at easing
 * some of the common requirements of web applications - in particular 
 * handling of forms.
 *
 * Spring's Velocity support will automatically make this file and therefore
 * all macros within it available to any application using Spring's 
 * VelocityConfigurer.
 *
 * To take advantage of these macros, the "exposeSpringMacroHelpers" property
 * of the VelocityView class needs to be set to "true". This will expose a
 * RequestContext under the name "springMacroRequestContext", as needed by
 * the macros in this library.
 *
 *#
 
#macro( springDialogMessage $dialogClazz $dialogIconOfTitle $dialogTitle $dialogTitleOfBody $dialogBody $dialogCloseButtonLable )
<div class="modal fade $!dialogClazz" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title">$!dialogIconOfTitle $!dialogTitle</h4>
			</div>
			<div class="modal-body">
				<h4>$!dialogTitleOfBody</h4>
				<p>$!dialogBody</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default btn-close" data-dismiss="modal">$!dialogCloseButtonLable</button>
			</div>
		</div>
	</div>
</div>
#end

#macro( springWarningLable $warnText )
<i class="fa fa-warning"></i> $warnText
#end

#macro( springInformMessage $dialogClazz $dialogTitle $dialogTitleOfBody $dialogBody $dialogCloseButtonLable )
	#set( $dialogIconOfTitle = "<i class='fa fa-exclamation-circle'></i>" )
	#springDialogMessage( $dialogClazz $dialogIconOfTitle $dialogTitle $dialogTitleOfBody $dialogBody $dialogCloseButtonLable )
#end

#macro( springWarningMessage $dialogClazz $dialogTitle $dialogTitleOfBody $dialogBody $dialogCloseButtonLable )
	#set( $dialogIconOfTitle = "<i class='fa fa-frown-o'></i>" )
	#springDialogMessage( $dialogClazz $dialogIconOfTitle $dialogTitle $dialogTitleOfBody $dialogBody $dialogCloseButtonLable )
#end

#macro( springErrorMessage $dialogClazz $dialogTitle $dialogTitleOfBody $dialogBody $dialogCloseButtonLable )
	#set( $dialogIconOfTitle = "<i class='fa fa-warning'></i>" )
	#springDialogMessage( $dialogClazz $dialogIconOfTitle $dialogTitle $dialogTitleOfBody $dialogBody $dialogCloseButtonLable )
#end

#macro( springConfirmMessage $dialogClazz $dialogTitle $dialogTitleOfBody $dialogBody $dialogCloseButtonLable $dialogConfirmButtonLable )
<div class="modal fade $!dialogClazz" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<button type="button" class="close" data-dismiss="modal">
					<span aria-hidden="true">&times;</span>
				</button>
				<h4 class="modal-title"><i class="fa fa-question-circle"></i> $!dialogTitle</h4>
			</div>
			<div class="modal-body">
				<h4>$!dialogTitleOfBody</h4>
				<p>$!dialogBody</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default btn-close" data-dismiss="modal">$!dialogCloseButtonLable</button>
				<button type="button" class="btn btn-default btn-agreement">$!dialogConfirmButtonLable</button>
			</div>
		</div>
	</div>
</div>
#end

#macro( springInputFile $iptId $iptClazz $iptName $iptDataId $iptDataFieldId )
<input type="file" id="$!iptId" class="$!iptClazz" name="$!iptName" data-id="$!iptDataId" data-field-id="$!iptDataFieldId" accept="image/*">
#end

#macro( springInputFileRequired $iptId $iptClazz $iptName $iptDataId $iptDataFieldId )
<input type="file" id="$!iptId" class="$!iptClazz" name="$!iptName" data-id="$!iptDataId" data-field-id="$!iptDataFieldId" accept="image/*" required="required">
#end

#macro( springInputHidden $iptId $iptClazz $iptName )
<input type="hidden" id="$!iptId" class="$!iptClazz" name="$!iptName">
#end

#macro( springInputFileWithLabel $lblClazz $lblText $iptId $iptClazz $iptName $iptDataId $iptDataFieldId )
<div class="form-group">
	<label class="$!lblClazz" for="$!iptId">$!lblText</label>
	<div class="col-md-6 col-sm-6 col-xs-12">
		#springInputFile ( $iptId $iptClazz $iptName $iptDataId $iptDataFieldId )
	</div>
</div>
#end

#macro( springInputFileWithLabelAndInputHidden $lblClazz $lblText $iptId $iptClazz $iptName $iptDataId $iptDataFieldId $iptHiddenName)
<div class="form-group">
	<label class="$!lblClazz" for="$!iptId">$!lblText</label>
	<div class="col-md-6 col-sm-6 col-xs-12">
		#springInputFile ( $iptId $iptClazz $iptName $iptDataId $iptDataFieldId )
		#springInputHidden ( "" "" $iptHiddenName )
	</div>
</div>
#end

#macro( springInputFileRequiredWithLabel $lblClazz $lblText $iptId $iptClazz $iptName $iptDataId $iptDataFieldId )
<div class="form-group">
	<label class="$!lblClazz" for="$!iptId">$!lblText</label>
	<div class="col-md-6 col-sm-6 col-xs-12">
		#springInputFileRequired ( $iptId $iptClazz $iptName $iptDataId $iptDataFieldId )
	</div>
</div>
#end
